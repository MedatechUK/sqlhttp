
SET ANSI_NULLS OFF
SET QUOTED_IDENTIFIER OFF
GO

DECLARE @clrName nvarchar(4000) = 'medatechclr, version=0.0.0.0, culture=neutral, publickeytoken=null, processorarchitecture=msil'
DECLARE @asmBin varbinary(max) = 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010300B3FF185C0000000000000000E00022200B015000001600000006000000000000FA340000002000000040000000000010002000000002000004000000000000000600000000000000008000000002000000000000030060850000100000100000000010000010000000000000100000000000000000000000A83400004F00000000400000B002000000000000000000000000000000000000006000000C000000703300001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E7465787400000000150000002000000016000000020000000000000000000000000000200000602E72737263000000B0020000004000000004000000180000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001C00000000000000000000000000004000004200000000000000000000000000000000DC34000000000000480000000200050080230000F00F000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001E02280D00000A2A260002280E00000A002AA6730F00000A8001000004731000000A8002000004731100000A8003000004731200000A80040000042A133001001000000001000011007E010000046F1300000A0A2B00062A133001001000000002000011007E020000046F1400000A0A2B00062A133001001000000003000011007E030000046F1500000A0A2B00062A133001001000000004000011007E040000046F1600000A0A2B00062A1E02281700000A2A1B300400DD0000000500001100140B140C140D0002281800000A281900000A74190000010D00091308110872010000706F1A00000A001108146F1B00000A001108720B0000706F1C00000A0000141308731D00000A13041104036F1E00000A6F1F00000A732000000A1305096F2100000A0B20010400008D2000000113062B2B110511061611068E696F2200000A1307110716FE01130911092C022B13000711061611076F2300000A000017130A2BD0076F2400000A00096F2500000A74180000010C086F2600000A732700000A0ADE1625282800000A130B00110B6F2900000A732A00000A7A062A0000000110000000000700BEC500161C0000011B3002005D000000060000110000140B140C02281800000A281900000A74190000010D09721D0000706F1A00000A0009146F1B00000A00096F2500000A74180000010C086F2600000A732700000A0ADE1625282800000A13040011046F2900000A732A00000A7A062A0000000110000000000100444500161C000001133002001200000007000011000203282B00000A282C00000A0A2B00062A0000133001000C000000080000110002282D00000A0A2B00062A13300100100000000900001100D006000002282E00000A0A2B00062A133001000C0000000A0000110002282F00000A0A2B00062A133002001D0000000B00001100028C0500001B14FE010B072C08280100002B0A2B0500020A2B00062A260003FE150500001B2A260002281700000A002A00000013300200350000000C00001100027B3100000A6F3200000A0B078C0800001B14FE010C082C14280200002B0B027B3100000A076F3300000A000000070A2B00062A520002281700000A0002733400000A7D3100000A2A000042534A4201000100000000000C00000076342E302E33303331390000000005006C00000020060000237E00008C0600006406000023537472696E677300000000F00C00002800000023555300180D0000100000002347554944000000280D0000C802000023426C6F6200000000000000020000015715A209090E000000FA01330016000001000000250000000700000005000000130000000600000034000000290000000C0000000200000005000000050000000800000001000000040000000200000003000000020000000000360301000000000006006F02800506008F0280050600B601C1040F00A00500000A009F0146040A006F0120030A00CA0120030E00360110050E007604D40406002702C1040E00F70159050E000F0294000600F80590030E00620410050E003F0294000600310190030600E3013A050E000100F6020A008A01970312005A027F0412004603AF051200E302AF050600890334000A00460109060A00200609060600D5022F060600830334000600D20390030A00240609060A005A0609060600DA022F060600AD0290030A004A0109060E007F0059050600E90580050600FA0090030600AA049003000000002B00000000000100010000000000C4034506210001000100000000007404450625000100020000011000FF05450635000100030001000000D405DE033500050008000501000002050000350005000B00050100001000000035000500120031000F044A013100E60352013100FA035A0131002804620121003B061B015020000000000618B404060001005820000000000618B404060001006220000000001118BA046A0101008C2000000000130867046E010100A820000000001308B40373010100C4200000000013085E0478010100E020000000001308F2047D010100FC20000000000618B40406000100042100000000160054038201010000220000000016004D038B0103007C2200000000C602CD05DA0004009C2200000000C602E200E3000500B4220000000083001E0192010500D02200000000C602ED028D000500E82200000000110060009701050011230000000001004C009F0106001B23000000000618B404060007002823000000000308C9004F0007006923000000000618B40406000700000001005C03000002005803000001005C0300000100DC0300000100D90000000100D9000900B40401001100B40406001900B4040A002900B40410003900B40416005100B40406005900B40406006100B40406007900B4041C008900B40424009900B4042900A100B40406004100B40406004900B40406000C00B40406001400B40406001C00B40406002400B40406000C00C9004F001400C9004F001C00C9004F002400C9004F006900B4040600B10014067B00E90068018100C900AF002900C90050068700C90026012900D100B4040600A900B2028D00F900C4059100D900B4049700C90072039D00D900AA00A200B9008401AA00B90062010600C9005601B200C10060039D00A900B404B80011019A04BE00E100EE008D00E100B40429001901C602D5006900CD05DA006900E200E30081000C01EC006900ED028D002901BA00010134003B061B013C00B2024F003C00BC0232013C00B404060029005B0080022E000B00C0012E001300C9012E001B00E80140003300F10140002B00F60143002300FF0143002B00F60149005B00910263002300FF0163002B00F60169005B00A50280003300F10183003B00F10183004300F10183002300FF0189005B00B202A0003300F101C0003300F101C3002B00F601C3004B001802E0003300F101E3002B00F601E30053007A0220016300F10140016300F10160012B00F60160013300F10180012B00F60180013300F101A0012B00F601A0013300F101C0012B00F601C0013300F101E0013300F10100023300F10120023300F10120022B00F60140023300F10160023300F10160022B00F6014A00540059005E006300C400D100DF00E700F400F8000C01040001000700050000007604A7010000C603AC0100006204B10100000405B6010000CD00BB01020004000300020005000500020006000700020007000900020012000B002E0035003C004300FE00140123012A010480000000000000000000000000000000003E00000004000000000000000000000038018B000000000004000000000000000000000038019003000000000A0000000000000000000000410194000000000004000000000000000000000038017300000000000600040007000400000010000E004A00000010001F004A000000000021004A006100070161002D01000000436F6E7465787456616C7565603100546872656164536166654F626A65637450726F76696465726031003C4D6F64756C653E0053797374656D2E494F004D65646174656368434C52005400446973706F73655F5F496E7374616E63655F5F004372656174655F5F496E7374616E63655F5F0053797374656D2E446174610050726F6A65637444617461006D73636F726C6962004D6963726F736F66742E56697375616C42617369630052656164007365745F4D6574686F6400437265617465496E7374616E6365006765745F476574496E7374616E636500696E7374616E63650047657448617368436F6465006765745F4D6573736167650052756E74696D655479706548616E646C65004765745479706546726F6D48616E646C650047657454797065007365745F436F6E74656E7454797065004170706C69636174696F6E426173650048747470576562526573706F6E736500476574526573706F6E736500436C6F73650043726561746500456469746F7242726F777361626C6553746174650057726974650048656C704B6579776F72644174747269627574650047656E657261746564436F64654174747269627574650044656275676761626C6541747472696275746500456469746F7242726F777361626C6541747472696275746500436F6D56697369626C65417474726962757465005374616E646172644D6F64756C6541747472696275746500486964654D6F64756C654E616D6541747472696275746500446562756767657248696464656E417474726962757465004D7947726F7570436F6C6C656374696F6E4174747269627574650053716C46756E6374696F6E41747472696275746500436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650042797465006765745F56616C7565007365745F56616C7565004765744F626A65637456616C7565004153434949456E636F64696E670053716C537472696E6700546F537472696E67004D6963726F736F66742E56697375616C42617369632E4D7953657276696365732E496E7465726E616C0053797374656D2E436F6D706F6E656E744D6F64656C004D65646174656368434C522E646C6C0053716C586D6C00676574786D6C00706F7374786D6C0075726C00476574526573706F6E736553747265616D004765745265717565737453747265616D004D656D6F727953747265616D0053797374656D0053797374656D2E436F6D706F6E656E744D6F64656C2E44657369676E006765745F4170706C69636174696F6E004D794170706C69636174696F6E00457863657074696F6E006F0073716C68747470006D5F4170704F626A65637450726F7669646572006D5F557365724F626A65637450726F7669646572006D5F436F6D70757465724F626A65637450726F7669646572006D5F4D7957656253657276696365734F626A65637450726F76696465720053797374656D2E436F6465446F6D2E436F6D70696C6572006765745F55736572006765745F436F6D7075746572004D79436F6D7075746572004D6963726F736F66742E53716C5365727665722E5365727665720053657450726F6A6563744572726F7200416374697661746F72002E63746F72002E6363746F720053797374656D2E446961676E6F7374696373004D6963726F736F66742E56697375616C42617369632E44657669636573006765745F5765625365727669636573004D795765625365727669636573004D6963726F736F66742E56697375616C42617369632E4170706C69636174696F6E53657276696365730053797374656D2E52756E74696D652E496E7465726F705365727669636573004D6963726F736F66742E56697375616C42617369632E436F6D70696C657253657276696365730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F6465730053797374656D2E446174612E53716C547970657300476574427974657300457175616C730055736572446566696E656446756E6374696F6E730052756E74696D6548656C70657273004F626A656374004D7950726F6A6563740053797374656D2E4E6574006F705F4578706C696369740048747470576562526571756573740053797374656D2E54657874006D5F436F6E746578740073716C687474702E4D79007365745F50726F7879004957656250726F787900000950004F0053005400001174006500780074002F0078006D006C0000074700450054000000000061BDDC1EE26E5E4DAC7000725EB3141C00042001010803200001052001011111052002010E0E052001011119072004010E0E0E0E0420010102042001010E0615121C01120C0615121C0112080615121C0112390615121C011218040701120C042000130004070112080407011239040701121817070C1255125D126112651269126D1D05081265020212710500010E115905000112750E0520010112790320000E0520011D050E052001011D05042000125D072003081D050808072003011D05080805200012808505200101125D0500010112710C07051255125D126112651271030701020400011C1C042001021C0307010803200008040701124107000112411180910307010E0507021E0002021E00051001001E00040A011E0007070313001300020615121C011300070615124901130006151249011300021300040A01130005200101130008B77A5C561934E08908B03F5F7F11D50A3A070615121C01120C070615121C011208070615121C011239070615121C01121803000001040000120C040000120804000012390400001218080002125511591255060001125511590420001241071001011E001E000730010101101E00040800120C04080012080408001239040800121804280013000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F77730108010007010000000004010000000801000100000000001801000A4D7954656D706C6174650831312E302E302E3000006101003453797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F617048747470436C69656E7450726F746F636F6C124372656174655F5F496E7374616E63655F5F13446973706F73655F5F496E7374616E63655F5F0000000501000000001001000B4D792E436F6D707574657200001301000E4D792E4170706C69636174696F6E00000C0100074D792E5573657200001301000E4D792E57656253657276696365730000000000000000B3FF185C00000000020000001C0100008C3300008C150000525344533F2477EEFB94314F966B6D0E49EF2EA6010000004D3A5C636F6D706F6E656E74735C73716C504F53545C73716C504F53545C6F626A5C44656275675C4D65646174656368434C522E70646200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000D03400000000000000000000EA340000002000000000000000000000000000000000000000000000DC340000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF25002000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000540200000000000000000000540234000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000000000000000000000000000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004B4010000010053007400720069006E006700460069006C00650049006E0066006F0000009001000001003000300030003000300034006200300000002C0002000100460069006C0065004400650073006300720069007000740069006F006E000000000020000000300008000100460069006C006500560065007200730069006F006E000000000030002E0030002E0030002E003000000040001000010049006E007400650072006E0061006C004E0061006D00650000004D00650064006100740065006300680043004C0052002E0064006C006C0000002800020001004C006500670061006C0043006F0070007900720069006700680074000000200000004800100001004F0072006900670069006E0061006C00460069006C0065006E0061006D00650000004D00650064006100740065006300680043004C0052002E0064006C006C000000340008000100500072006F006400750063007400560065007200730069006F006E00000030002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000030002E0030002E0030002E003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000FC3400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
DECLARE @hash varbinary(64);

SELECT @hash = HASHBYTES('SHA2_512', @asmBin);
SELECT @hash 

EXEC sp_add_trusted_assembly @hash = @hash, @description = @clrName


CREATE ASSEMBLY [MedatechCLR]
FROM 'M:\components\sqlPOST\sqlPOST\bin\Debug\MedatechCLR.dll'
WITH PERMISSION_SET = EXTERNAL_ACCESS

GO

CREATE FUNCTION [dbo].[postxml](@url [nvarchar](max), @xml [xml])
RETURNS [xml] WITH EXECUTE AS CALLER
AS 
EXTERNAL NAME [MedatechCLR].[sqlhttp.UserDefinedFunctions].[postxml]
GO

CREATE FUNCTION [dbo].[getxml](@url [nvarchar](max))
RETURNS [xml] WITH EXECUTE AS CALLER
AS 
EXTERNAL NAME [MedatechCLR].[sqlhttp.UserDefinedFunctions].[getxml]
GO

